<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中考志愿辅助分析工具</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* 淡雅的背景色 */
        }
        .container {
            max-width: 600px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: white;
            border-radius: 12px; /* 更大的圆角 */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); /* 更柔和的阴影 */
        }
        .title {
            font-size: 1.75rem; /* 标题字号调整 */
            font-weight: 700;
            color: #2c3e50; /* 深蓝灰色 */
            margin-bottom: 1.5rem;
            text-align: center;
        }
        .input-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #34495e; /* 蓝灰色 */
        }
        .input-field {
            width: 100%;
            padding: 0.75rem 1rem; /* 输入框内边距调整 */
            border: 1px solid #bdc3c7; /* 边框颜色 */
            border-radius: 8px; /* 输入框圆角 */
            box-sizing: border-box;
            margin-bottom: 1.5rem;
            font-size: 1rem;
        }
        .input-field:focus {
            outline: none;
            border-color: #3498db; /* 焦点时边框颜色 */
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        .analyze-button {
            width: 100%;
            padding: 0.875rem 1rem; /* 按钮内边距调整 */
            background-color: #3498db; /* 主题蓝色 */
            color: white;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 1.1rem; /* 按钮字号调整 */
        }
        .analyze-button:hover {
            background-color: #2980b9; /* 悬停时颜色加深 */
        }
        .results-area {
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: #ecf0f1; /* 结果区背景色 */
            border-radius: 8px;
            border: 1px solid #dde1e2;
        }
        .results-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1rem;
        }
        .result-item {
            margin-bottom: 0.75rem;
            padding: 0.75rem;
            background-color: #ffffff;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .result-item strong {
            color: #3498db;
        }
        .message-box {
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: 6px;
            text-align: center;
        }
        .message-box.error {
            background-color: #e74c3c;
            color: white;
        }
        .message-box.info {
            background-color: #f1c40f;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">中考志愿辅助分析工具</h1>

        <div>
            <label for="scoreRate" class="input-label">请输入您的得分率 (%)：</label>
            <input type="number" id="scoreRate" class="input-field" placeholder="例如: 92.5">
        </div>

        <button id="analyzeButton" class="analyze-button">开始分析</button>

        <div id="resultsArea" class="results-area" style="display: none;">
            <h2 class="results-title">分析结果：</h2>
            <div id="firstChoiceResult" class="result-item"></div>
            <div id="secondChoiceResult" class="result-item"></div>
        </div>
        <div id="messageBox" class="message-box" style="display: none;"></div>
    </div>

    <script>
        // 学校录取数据模型 (基于图片信息简化和推断)
        // 实际应用中，这些数据应从CSV文件（如 录取学校分析.csv）导入和处理
        // minRate: 最低得分率要求。 tiers应该从高到低排序。
        const schoolTiers = [
            { minRate: 93.6, firstChoice: "东莞中学", secondChoice: "东莞第一中学" },
            { minRate: 92.8, firstChoice: "东莞中学", secondChoice: "东莞外国语学校" },
            { minRate: 92.1, firstChoice: "东莞中学松山湖学校", secondChoice: "东莞高级中学" }, // 结合92.5和92.22
            { minRate: 90.0, firstChoice: "东莞外国语学校", secondChoice: "常平中学" },
            { minRate: 88.0, firstChoice: "常平中学", secondChoice: "常平中学 (或 市第六高级中学)" }, // 结合多个88%左右的数据点
            { minRate: 85.5, firstChoice: "市第二高级中学", secondChoice: "市第八高级中学" }, // 结合85.98和85.63
            { minRate: 82.0, firstChoice: "市第十高级中学", secondChoice: "市第四高级中学" },
            // 可以根据需要添加更多层级
            { minRate: 0, firstChoice: "建议寻求专业指导", secondChoice: "请参考更多信息综合判断" } // 保底建议
        ];

        const analyzeButton = document.getElementById('analyzeButton');
        const scoreRateInput = document.getElementById('scoreRate');
        const resultsArea = document.getElementById('resultsArea');
        const firstChoiceResult = document.getElementById('firstChoiceResult');
        const secondChoiceResult = document.getElementById('secondChoiceResult');
        const messageBox = document.getElementById('messageBox');

        analyzeButton.addEventListener('click', () => {
            const scoreRateText = scoreRateInput.value;
            messageBox.style.display = 'none'; // 先隐藏消息框
            resultsArea.style.display = 'none'; // 先隐藏结果区

            if (scoreRateText === '') {
                showMessage('请输入得分率后再分析。', 'error');
                return;
            }

            const scoreRate = parseFloat(scoreRateText);

            if (isNaN(scoreRate) || scoreRate < 0 || scoreRate > 100) {
                showMessage('请输入有效的得分率 (0-100之间的数字)。', 'error');
                return;
            }

            let foundSchool = false;
            // 从高分往低分档次查找匹配
            for (const tier of schoolTiers) {
                if (scoreRate >= tier.minRate) {
                    firstChoiceResult.innerHTML = `<strong>第一志愿建议：</strong> ${tier.firstChoice}`;
                    secondChoiceResult.innerHTML = `<strong>第二志愿建议：</strong> ${tier.secondChoice}`;
                    resultsArea.style.display = 'block';
                    foundSchool = true;
                    break; // 找到合适的档次后即停止
                }
            }

            if (!foundSchool) {
                // 理论上会匹配到 minRate: 0 的保底建议，但以防万一
                showMessage('未能根据当前数据找到匹配的学校建议，请咨询老师。', 'info');
            }
        });

        function showMessage(message, type) {
            messageBox.textContent = message;
            messageBox.className = `message-box ${type}`; // 重置class并添加新的类型
            messageBox.style.display = 'block';
        }

        // 允许回车键触发分析
        scoreRateInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // 阻止表单默认提交（如果在一个form里的话）
                analyzeButton.click(); // 触发按钮点击
            }
        });
    </script>
</body>
</html>

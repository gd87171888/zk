<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>东莞中考分析工具</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #4facfe;
        }

        .section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #4facfe;
        }

        .btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(79, 172, 254, 0.3);
        }

        .result {
            margin-top: 30px;
            padding: 25px;
            background: white;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            display: none;
        }

        .result.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .score-analysis {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .score-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .score-card h3 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .score-card .value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .school-recommendations {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }

        .school-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }

        .school-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
        }

        .school-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        }

        .school-card h4 {
            color: #2c3e50;
            margin-bottom: 12px;
            font-size: 1.25em;
            font-weight: 600;
        }

        .school-card .probability {
            font-size: 0.95em;
            font-weight: 600;
            margin-bottom: 12px;
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-block;
            text-align: center;
            min-width: 100px;
        }

        .probability.high { 
            color: #fff;
            background: linear-gradient(135deg, #28a745, #20c997);
        }
        .probability.medium { 
            color: #fff;
            background: linear-gradient(135deg, #ffc107, #fd7e14);
        }
        .probability.low { 
            color: #fff;
            background: linear-gradient(135deg, #dc3545, #e83e8c);
        }

        .school-info {
            margin-top: 15px;
        }

        .school-info p {
            margin-bottom: 8px;
            font-size: 0.9em;
            color: #6c757d;
        }

        .school-info strong {
            color: #495057;
        }

        .school-level {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 500;
            margin-left: 8px;
        }

        .level-顶尖 {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .level-重点 {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .level-优质 {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .level-普通 {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .data-table th, .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .data-table th {
            background: #4facfe;
            color: white;
            font-weight: bold;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        .tips {
            background: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .tips h4 {
            color: #0066cc;
            margin-bottom: 10px;
        }

        .tips ul {
            margin-left: 20px;
        }

        .tips li {
            margin-bottom: 8px;
            color: #333;
        }

        .footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #e9ecef;
            margin-top: 40px;
        }

        .footer p {
            margin: 5px 0;
            color: #6c757d;
            font-size: 0.9em;
        }

        .footer .brand {
            font-weight: 600;
            color: #4facfe;
        }

        .footer .year {
            font-weight: 500;
            color: #495057;
        }

        .footer .disclaimer {
            font-size: 0.8em;
            color: #868e96;
            margin-top: 10px;
        }

        /* 移动端优化 */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header h1 {
                font-size: 2em;
            }

            .header p {
                font-size: 1em;
            }

            .main-content {
                padding: 20px;
            }

            .section {
                padding: 20px;
                margin-bottom: 25px;
            }

            .section h2 {
                font-size: 1.5em;
            }

            .score-analysis {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .score-card {
                padding: 15px;
            }

            .score-card .value {
                font-size: 1.8em;
            }

            .school-recommendations {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .school-card {
                padding: 15px;
            }

            .school-card h4 {
                font-size: 1.1em;
            }

            .data-table {
                font-size: 0.85em;
            }

            .data-table th,
            .data-table td {
                padding: 8px 6px;
            }

            .tips {
                padding: 15px;
            }

            .footer {
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.8em;
            }

            .main-content {
                padding: 15px;
            }

            .section {
                padding: 15px;
            }

            .school-card {
                padding: 12px;
            }

            .probability {
                font-size: 0.85em !important;
                padding: 4px 8px !important;
                min-width: 80px !important;
            }

            .data-table {
                font-size: 0.75em;
            }

            .data-table th,
            .data-table td {
                padding: 6px 4px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎓 东莞中考分析工具</h1>
            <p>2025年十一大校扩容版 - 基于最新政策的智能升学分析系统</p>
        </div>

        <div class="main-content">
            <div class="section">
                <h2>📊 成绩录入</h2>
                <div class="input-group">
                    <label for="grade">年级:</label>
                    <select id="grade">
                        <option value="九年级">九年级</option>
                        <option value="八年级">八年级</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="semester">学期:</label>
                    <select id="semester">
                        <option value="第二学期">第二学期（下学期）</option>
                        <option value="第一学期">第一学期（上学期）</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="exam">考试类型:</label>
                    <select id="exam">
                        <option value="中考">中考</option>
                        <option value="三模">三模</option>
                        <option value="二模">二模</option>
                        <option value="一模">一模</option>
                        <option value="月考">月考</option>
                        <option value="期末">期末</option>
                        <option value="中段考">中段考</option>
                        <option value="期中">期中</option>
                        <option value="阶段一">阶段一</option>
                        <option value="阶段二">阶段二</option>
                        <option value="12月考">12月考</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="score">总分:</label>
                    <input type="number" id="score" placeholder="请输入总分" min="0" max="800">
                </div>
                <div class="input-group">
                    <label for="totalScore">满分:</label>
                    <input type="number" id="totalScore" placeholder="请输入满分" value="800">
                </div>
                <button class="btn" onclick="analyzeScore()">🔍 开始分析</button>
            </div>

            <div id="analysisResult" class="result">
                <div class="section">
                    <h2>📈 成绩分析结果</h2>
                    <div class="score-analysis">
                        <div class="score-card">
                            <h3>得分率</h3>
                            <div class="value" id="scoreRate">-</div>
                            <div>当前水平</div>
                        </div>
                        <div class="score-card">
                            <h3>同比进步</h3>
                            <div class="value" id="progress">-</div>
                            <div>相比历史</div>
                        </div>
                        <div class="score-card">
                            <h3>推荐学校</h3>
                            <div class="value" id="recommendCount">-</div>
                            <div>所学校</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>🏫 十一大校推荐分析</h2>
                    <p>根据您的成绩水平，为您推荐最适合的学校（含2025年新增三校）：</p>
                    <div class="policy-notice" style="background:#e8f5e8;border-left:4px solid #27ae60;padding:10px;margin:10px 0;border-radius:5px;">
                        <strong>🆕 2025年政策变化：</strong>
                        <ul style="margin:5px 0;padding-left:20px;">
                            <li>新增石龙中学、万江中学、常平中学为十一大校</li>
                            <li>名额分配比例50%，户籍生可降分20-30分录取</li>
                            <li>新增三校竞争压力相对较小，录取机会增加</li>
                        </ul>
                    </div>
                    <div class="school-recommendations" id="schoolRecommendations">
                        <!-- 学校推荐将在这里动态生成 -->
                    </div>
                </div>

                <div class="section">
                    <h2>🎯 名额分配策略分析</h2>
                    <div class="quota-analysis" id="quotaAnalysis">
                        <!-- 名额分配分析将在这里动态生成 -->
                    </div>
                </div>

                <div class="section">
                    <h2>📋 2025年十一大校录取数据参考</h2>
                    <div style="background:#fff3cd;border-left:4px solid #ffc107;padding:10px;margin:10px 0;border-radius:5px;">
                        <p><strong>💡 数据说明：</strong>以下为2024年录取分数线，2025年实际分数线可能有所调整，仅供参考。名额分配降分幅度：传统八大校20分，新增三校30分。</p>
                    </div>
                    <table class="data-table" id="dataTable">
                        <!-- 数据表格将在这里动态生成 -->
                    </table>
                </div>

                <div class="tips">
                    <h4>💡 填报建议</h4>
                    <ul>
                        <li>第一志愿：选择与你成绩相匹配或略高的学校</li>
                        <li>保底志愿：选择录取分数线低于你成绩10-20分的学校</li>
                        <li>关注学校特色：考虑学校的特长班、实验班等</li>
                        <li>地理位置：考虑上学距离和交通便利性</li>
                        <li>多关注官方信息：及时了解最新的招生政策</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer">
            <p class="brand">白雪志愿</p>
            <p class="year">2025年中考参考</p>
            <p class="disclaimer">2025仅供用于学习和交流，请勿用于商业用途</p>
        </div>
    </div>

    <script>
        // 东莞中考历年数据（2025年最新）
        const examData = {
            "九年级": {
                "第二学期": {
                    "中考": { rate: 92.50, progress: -1.17, schools: ["东莞中学松山湖学校", "东莞高级中学"] },
                    "三模": { rate: 93.68, progress: -0.01, schools: ["东莞中学", "东莞第一中学"] },
                    "二模": { rate: 93.69, progress: 0.67, schools: ["东莞中学", "东莞第一中学"] },
                    "一模": { rate: 93.01, progress: 0.80, schools: ["东莞中学", "东莞外国语学校"] },
                    "月考": { rate: 92.22, progress: 1.85, schools: ["东莞中学松山湖学校", "市第六高级中学"] }
                },
                "第一学期": {
                    "期末": { rate: 90.37, progress: -0.20, schools: ["东莞外国语学校", "常平中学"] },
                    "中段考": { rate: 90.57, progress: -0.18, schools: ["东莞外国语学校", "常平中学"] },
                    "月考": { rate: 90.76, progress: 0.18, schools: ["东莞外国语学校", "常平中学"] }
                }
            },
            "八年级": {
                "第二学期": {
                    "期末": { rate: 90.57, progress: 1.77, schools: ["东莞外国语学校", "常平中学"] },
                    "期中": { rate: 88.80, progress: 0.45, schools: ["常平中学", "万江中学"] },
                    "阶段二": { rate: 88.35, progress: 2.37, schools: ["常平中学", "石龙中学"] },
                    "阶段一": { rate: 85.98, progress: 0.35, schools: ["石龙中学", "万江中学"] }
                },
                "第一学期": {
                    "12月考": { rate: 85.63, progress: -2.44, schools: ["万江中学", "常平中学"] },
                    "中段考": { rate: 88.07, progress: 5.61, schools: ["常平中学", "石龙中学"] },
                    "月考": { rate: 82.46, progress: 0, schools: ["石龙中学", "万江中学"] }
                }
            }
        };

        // 2025年东莞十一大校数据
        const elevenSchools = {
            "东莞中学": {
                level: "顶尖",
                hujiScore: 736,
                suiqianScore: 720,
                rank: 1,
                quota: 480,
                features: ["百年名校", "重本率超90%", "科技创新与文化传承并重"]
            },
            "东莞中学松山湖学校": {
                level: "顶尖",
                hujiScore: 728,
                suiqianScore: 737,
                rank: 2,
                quota: 624,
                features: ["小班化教学", "与华为等企业合作", "特控率约90%"]
            },
            "松山湖未来学校": {
                level: "顶尖",
                hujiScore: 724,
                suiqianScore: 737,
                rank: 3,
                quota: 349,
                features: ["AI+教育模式", "智能化教学平台", "港澳班特色突出"]
            },
            "东莞市第一中学": {
                level: "重点",
                hujiScore: 717,
                suiqianScore: 730,
                rank: 4,
                quota: 815,
                features: ["艺术体育与科创教育突出", "重本率约80%", "国家级示范性高中"]
            },
            "东莞高级中学": {
                level: "重点",
                hujiScore: 711,
                suiqianScore: 724,
                rank: 5,
                quota: 573,
                features: ["创客教育领先", "心理健康教育特色", "本科上线率100%"]
            },
            "东莞实验中学": {
                level: "重点",
                hujiScore: 703,
                suiqianScore: 719,
                rank: 6,
                quota: 774,
                features: ["航空班", "学科竞赛强校", "理科竞赛成果显著"]
            },
            "东莞外国语学校": {
                level: "重点",
                hujiScore: 717,
                suiqianScore: 725,
                rank: 7,
                quota: 503,
                features: ["多语种课程", "国际化交流项目", "外语特色鲜明"]
            },
            "市第六高级中学": {
                level: "优质",
                hujiScore: 707,
                suiqianScore: 718,
                rank: 8,
                quota: 719,
                features: ["艺术教育标杆", "高考中进优出", "数理特色班成绩突出"]
            },
            "石龙中学": {
                level: "优质",
                hujiScore: 688,
                suiqianScore: 714,
                rank: 9,
                quota: 507,
                features: ["百年老校", "机器人项目国际获奖", "科技创新班成果显著"],
                isNew: true
            },
            "常平中学": {
                level: "优质",
                hujiScore: 675,
                suiqianScore: 708,
                rank: 10,
                quota: 922,
                features: ["集团化办学标杆", "高考600分以上人数翻倍", "科技创新与篮球特色"],
                isNew: true
            },
            "万江中学": {
                level: "优质",
                hujiScore: 674,
                suiqianScore: 705,
                rank: 11,
                quota: 651,
                features: ["食育与体育特色", "足球项目全市领先", "艺术特长生培养突出"],
                isNew: true
            }
        };

        // 学校等级划分（更新版）
        const schoolLevels = {
            "东莞中学": "顶尖",
            "东莞中学松山湖学校": "顶尖",
            "松山湖未来学校": "顶尖",
            "东莞市第一中学": "重点",
            "东莞高级中学": "重点",
            "东莞实验中学": "重点",
            "东莞外国语学校": "重点",
            "市第六高级中学": "优质",
            "石龙中学": "优质",
            "常平中学": "优质",
            "万江中学": "优质"
        };

        function analyzeScore() {
            const grade = document.getElementById('grade').value;
            const semester = document.getElementById('semester').value;
            const exam = document.getElementById('exam').value;
            const score = parseFloat(document.getElementById('score').value);
            const totalScore = parseFloat(document.getElementById('totalScore').value);

            if (!score || !totalScore || score > totalScore) {
                alert('请输入有效的成绩！');
                return;
            }

            const scoreRate = (score / totalScore * 100).toFixed(2);
            const data = examData[grade]?.[semester]?.[exam];

            if (!data) {
                alert('暂无该考试的参考数据！');
                return;
            }

            // 显示结果
            document.getElementById('scoreRate').textContent = scoreRate + '%';
            document.getElementById('progress').textContent = data.progress > 0 ? '+' + data.progress + '%' : data.progress + '%';
            document.getElementById('recommendCount').textContent = getRecommendedSchools(scoreRate).length;

            // 生成学校推荐
            generateSchoolRecommendations(scoreRate);

            // 生成名额分配分析
            generateQuotaAnalysis(scoreRate);

            // 生成数据表格
            generateDataTable(grade, semester);

            // 显示结果区域
            document.getElementById('analysisResult').classList.add('show');
        }

        function getRecommendedSchools(scoreRate) {
            const rate = parseFloat(scoreRate);
            const estimatedScore = Math.round(rate * 8); // 假设满分800分
            let schools = [];

            // 根据2025年十一大校分数线推荐
            if (estimatedScore >= 730) {
                schools = ["东莞中学", "东莞中学松山湖学校", "松山湖未来学校", "东莞市第一中学"];
            } else if (estimatedScore >= 710) {
                schools = ["东莞高级中学", "东莞外国语学校", "东莞实验中学", "市第六高级中学"];
            } else if (estimatedScore >= 680) {
                schools = ["石龙中学", "常平中学", "万江中学", "市第六高级中学"];
            } else if (estimatedScore >= 650) {
                schools = ["常平中学", "万江中学", "石龙中学"];
            } else {
                schools = ["万江中学", "常平中学"];
            }

            return schools;
        }

        function generateSchoolRecommendations(scoreRate) {
            const schools = getRecommendedSchools(scoreRate);
            const container = document.getElementById('schoolRecommendations');
            const estimatedScore = Math.round(parseFloat(scoreRate) * 8);
            container.innerHTML = '';

            schools.forEach((school, index) => {
                const schoolData = elevenSchools[school];
                if (!schoolData) return;

                const probability = index === 0 ? 'high' : index === 1 ? 'medium' : 'low';
                let probabilityText = '';
                let strategyText = '';
                
                // 根据分数差距计算录取概率
                const scoreDiff = estimatedScore - schoolData.hujiScore;
                if (scoreDiff >= 10) {
                    probabilityText = '录取概率很高';
                    strategyText = '稳妥选择，可作为保底志愿';
                } else if (scoreDiff >= 0) {
                    probabilityText = '录取概率较高';
                    strategyText = '合适选择，建议重点考虑';
                } else if (scoreDiff >= -20) {
                    probabilityText = '录取概率中等';
                    strategyText = schoolData.isNew ? '新增校，名额分配机会大' : '可冲刺，建议关注名额分配';
                } else {
                    probabilityText = '录取概率较低';
                    strategyText = '冲刺目标，需要超常发挥';
                }

                const level = schoolData.level;
                const features = schoolData.features.slice(0, 2).join('、');
                const quotaInfo = schoolData.isNew ? `名额分配${schoolData.quota}人（新增校优势）` : `名额分配${schoolData.quota}人`;

                const card = document.createElement('div');
                card.className = 'school-card';
                card.innerHTML = `
                    <h4>${school} <span style="font-size:0.8em;color:#666;">(排名第${schoolData.rank})</span></h4>
                    <div class="probability ${probability}">${probabilityText}</div>
                    <div class="school-info">
                        <p><strong>学校等级:</strong> ${level}<span class="school-level level-${level}">${level}</span></p>
                        <p><strong>录取分数:</strong> 户籍生${schoolData.hujiScore}分 / 随迁子女${schoolData.suiqianScore}分</p>
                        <p><strong>学校特色:</strong> ${features}</p>
                        <p><strong>名额分配:</strong> ${quotaInfo}</p>
                        <p><strong>填报策略:</strong> ${strategyText}</p>
                        ${schoolData.isNew ? '<p style="color:#e74c3c;font-weight:600;">🆕 2025年新增十一大校</p>' : ''}
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function generateQuotaAnalysis(scoreRate) {
            const container = document.getElementById('quotaAnalysis');
            const estimatedScore = Math.round(parseFloat(scoreRate) * 8);
            
            // 找出适合名额分配的学校
            const quotaSchools = [];
            Object.entries(elevenSchools).forEach(([name, data]) => {
                const scoreDiff = estimatedScore - data.hujiScore;
                if (scoreDiff >= -30 && scoreDiff <= 10) {
                    const quotaScore = data.hujiScore - (data.isNew ? 30 : 20); // 新增校降分更多
                    quotaSchools.push({
                        name,
                        ...data,
                        quotaScore,
                        advantage: estimatedScore >= quotaScore
                    });
                }
            });

            quotaSchools.sort((a, b) => b.quota - a.quota); // 按名额数量排序

            let analysisHTML = `
                <div style="background:#f8f9fa;padding:15px;border-radius:8px;margin-bottom:15px;">
                    <h4 style="color:#2c3e50;margin-bottom:10px;">📋 名额分配政策解读</h4>
                    <p><strong>适用条件：</strong>东莞户籍考生，第一批次第一志愿填报</p>
                    <p><strong>分数要求：</strong>达到普高最低控制线（约530分），但低于目标校统招线</p>
                    <p><strong>降分幅度：</strong>传统八大校降分20分，新增三校降分30分</p>
                </div>
            `;

            if (quotaSchools.length > 0) {
                analysisHTML += `<h4 style="color:#27ae60;">🎯 您的名额分配机会分析</h4>`;
                
                quotaSchools.forEach(school => {
                    const statusClass = school.advantage ? 'success' : 'warning';
                    const statusText = school.advantage ? '✅ 有机会通过名额分配录取' : '⚠️ 需要努力提升成绩';
                    const bgColor = school.advantage ? '#d4edda' : '#fff3cd';
                    
                    analysisHTML += `
                        <div style="background:${bgColor};border-radius:8px;padding:12px;margin:10px 0;border-left:4px solid ${school.advantage ? '#28a745' : '#ffc107'};">
                            <h5 style="margin:0 0 8px 0;color:#2c3e50;">
                                ${school.name} 
                                ${school.isNew ? '<span style="color:#e74c3c;font-size:0.8em;">🆕新增校</span>' : ''}
                            </h5>
                            <p style="margin:5px 0;"><strong>统招分数线：</strong>${school.hujiScore}分</p>
                            <p style="margin:5px 0;"><strong>名额分配预估线：</strong>${school.quotaScore}分 <span style="color:#666;">(降${school.hujiScore - school.quotaScore}分)</span></p>
                            <p style="margin:5px 0;"><strong>名额分配计划：</strong>${school.quota}人</p>
                            <p style="margin:5px 0;color:${school.advantage ? '#28a745' : '#856404'};"><strong>${statusText}</strong></p>
                        </div>
                    `;
                });
            } else {
                analysisHTML += `
                    <div style="background:#f8d7da;border-radius:8px;padding:15px;border-left:4px solid #dc3545;">
                        <h4 style="color:#721c24;">当前成绩分析</h4>
                        <p>根据您当前的成绩水平，建议：</p>
                        <ul>
                            <li>继续努力提升成绩，争取达到十一大校录取线</li>
                            <li>关注新增三校（石龙、万江、常平中学），名额分配机会较大</li>
                            <li>可考虑其他优质高中作为备选方案</li>
                        </ul>
                    </div>
                `;
            }

            // 添加填报策略建议
            analysisHTML += `
                <div style="background:#e3f2fd;border-radius:8px;padding:15px;margin-top:15px;border-left:4px solid #2196f3;">
                    <h4 style="color:#1565c0;">💡 志愿填报策略建议</h4>
                    <ol style="margin:10px 0;padding-left:20px;">
                        <li><strong>第一志愿：</strong>选择最心仪且有名额分配机会的学校</li>
                        <li><strong>梯度搭配：</strong>"冲刺-稳妥-保底"三个层次</li>
                        <li><strong>新增校优势：</strong>石龙、万江、常平中学竞争相对较小</li>
                        <li><strong>特色班关注：</strong>部分学校特色班可自主招生降分录取</li>
                    </ol>
                </div>
            `;

            container.innerHTML = analysisHTML;
        }

        function generateDataTable(grade, semester) {
            const table = document.getElementById('dataTable');
            
            // 显示2025年十一大校录取数据
            let tableHTML = `
                <thead>
                    <tr>
                        <th>学校名称</th>
                        <th>排名</th>
                        <th>户籍生分数线</th>
                        <th>随迁子女分数线</th>
                        <th>名额分配计划</th>
                        <th>学校特色</th>
                        <th>备注</th>
                    </tr>
                </thead>
                <tbody>
            `;

            Object.entries(elevenSchools).forEach(([school, data]) => {
                const newSchoolBadge = data.isNew ? '<span style="background:#e74c3c;color:white;padding:2px 6px;border-radius:3px;font-size:0.8em;">新增</span>' : '';
                const levelColor = {
                    '顶尖': '#8e44ad',
                    '重点': '#3498db', 
                    '优质': '#27ae60'
                }[data.level] || '#95a5a6';
                
                tableHTML += `
                    <tr>
                        <td><strong>${school}</strong> ${newSchoolBadge}</td>
                        <td style="text-align:center;">${data.rank}</td>
                        <td style="text-align:center;font-weight:600;color:#2c3e50;">${data.hujiScore}分</td>
                        <td style="text-align:center;color:#7f8c8d;">${data.suiqianScore}分</td>
                        <td style="text-align:center;color:#27ae60;font-weight:600;">${data.quota}人</td>
                        <td style="font-size:0.9em;">${data.features.slice(0,2).join('、')}</td>
                        <td>
                            <span style="background:${levelColor};color:white;padding:2px 6px;border-radius:3px;font-size:0.8em;">${data.level}</span>
                            ${data.isNew ? '<br><small style="color:#e74c3c;">降分30分</small>' : '<small style="color:#7f8c8d;">降分20分</small>'}
                        </td>
                    </tr>
                `;
            });

            tableHTML += '</tbody>';
            table.innerHTML = tableHTML;
        }
        </script>
</body>
</html>